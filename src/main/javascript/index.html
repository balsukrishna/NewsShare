<html>
    <head>
        <title>NewsShare</title>
    </head>
    <style>

		.topicButton,
		.topic {
			padding: 12.5px 25px;
			font-size: 30px;
		 }

		.topicButton {
		    font-weight: bold;			
		 }
		
		.votes,
		.voteButton {
			padding: 5px 5px;
		 }

		.votes {
		    font-weight: bold;			
		 }

	</style>


    <body>
        <form onsubmit="return false;">
            <input id="topicText" class="topic" value="dog">
    	    <button id="topicBtn" class="topicButton" onclick="reload()">submit</button>
        </form>

    	<table id="top20"  border="1"> </table> 
    </body>

    <script type="text/javascript">
    
        //Initiate WS
        var socket;
        function connect() {
            socket = new WebSocket("ws://" + window.location.hostname + ":" + window.location.port + "/websocket");
            socket.onmessage = function(event) {
                console.log(event.data);   
            };
        }

        function send(message) {
            //No Socket support ,No Action
            if (!window.WebSocket) { return; }
            if (socket.readyState == WebSocket.OPEN) {
                socket.send(message);
            } else {
                alert("The socket is not yet open.");
            }
        }

    	function genRand(){
			return Math.floor((Math.random() * 100) + 1);
		}

		function reload()   {
			var top20    = document.getElementById("top20");
			while(top20.rows.length > 0) {
			  top20.deleteRow(0);
			}

			for(i = 0; i < 10; i++) {
				
				var upButton = document.createElement("button");
				upButton.innerHTML = "upvote";
				upButton.className = "voteButton"

				var downButton = document.createElement("button");
				downButton.innerHTML = "downvote";
				downButton.className = "voteButton"

				var votes = document.createElement("span");
				votes.innerHTML = genRand();
				votes.className = "votes"

				//Create rown and add columns
				var row = top20.insertRow(i);	
				var cell1 = row.insertCell(0);
				var cell2 = row.insertCell(1);
				var cell3 = row.insertCell(2);
				var cell4 = row.insertCell(3);

				cell1.appendChild(upButton);	
                cell2.innerHTML = "Topic";    
				cell3.appendChild(votes);
				cell4.appendChild(downButton);
                
			}

		}

    </script>
     

                
</html>
